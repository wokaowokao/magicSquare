<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
		.a{
			display: flex;
			width: 36px;
			margin: 2px;
		}
		.row{
			display: flex;
			flex-basis: 100%;
		}
		.container{
			display: flex;
			flex-wrap: wrap;
			background: black;
			justify-content: center;
			width: 120px;
			height: 120px;
			float: left;
			margin: 20px;
		}
		.container_bottom{
			display: flex;
			flex-wrap: wrap;
			background: black;
			justify-content: center;
			width: 120px;
			height: 120px;
			float: left;
			margin: 20px;
			margin-left: 180px;
		}
		.container_top{
			display: flex;
			justify-content: center;
			flex-wrap: wrap;
			background: black;
 
			width: 120px;
			height: 120px;
			margin: 20px;
			margin-left: 180px;
		}
		.red{
			background: red;
		}
		.blue{
			background: blue;
		}
		.yellow{
			background: yellow;
		}
		.green{
			background: green;
		}
		.white {
			background: white;
		}
		.orange {
			background: orange;
		}
		.step{
			color: blue;
		}
	</style>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/1.6.4/jquery.min.js"></script>
</head>
<body>
<div class="container_top c_5">
	<div class="row">
		<div class="a yellow">1</div><div class="a yellow">1</div><div class="a yellow">1</div>
	</div>
	<div class="row">
		<div class="a yellow">1</div><div class="a yellow">1</div><div class="a yellow">1</div>
	</div>
	<div class="row">
		<div class="a yellow">1</div><div class="a yellow">1</div><div class="a yellow">1</div>
	</div>
</div>
<div class="container c_4">
	<div class="row">
		<div class="a orange">1</div><div class="a orange">1</div><div class="a orange">1</div>
	</div>
	<div class="row">
		<div class="a orange">1</div><div class="a orange">1</div><div class="a orange">1</div>
	</div>
	<div class="row">
		<div class="a orange">1</div><div class="a orange">1</div><div class="a orange">1</div>
	</div>
</div>
<div class="container c_1">
	<div class="row">
		<div class="a blue">1</div><div class="a blue">1</div><div class="a blue">1</div>
	</div>
	<div class="row">
		<div class="a blue">1</div><div class="a blue">1</div><div class="a blue">1</div>
	</div>
	<div class="row">
		<div class="a blue">1</div><div class="a blue">1</div><div class="a blue">1</div>
	</div>
</div>
<div class="container c_2">
	<div class="row">
		<div class="a red">1</div><div class="a red">1</div><div class="a red">1</div>
	</div>
	<div class="row">
		<div class="a red">1</div><div class="a red">1</div><div class="a red">1</div>
	</div>
	<div class="row">
		<div class="a red">1</div><div class="a red">1</div><div class="a red">1</div>
	</div>
</div>
<div class="container c_3">
	<div class="row">
		<div class="a green">1</div><div class="a green">1</div><div class="a green">1</div>
	</div>
	<div class="row">
		<div class="a green">1</div><div class="a green">1</div><div class="a green">1</div>
	</div>
	<div class="row">
		<div class="a green">1</div><div class="a green">1</div><div class="a green">1</div>
	</div>
</div>
<div style="clear: both;"></div>
<div class="container_bottom c_6">
	<div class="row">
		<div class="a white">1</div><div class="a white">1</div><div class="a white">1</div>
	</div>
	<div class="row">
		<div class="a white">1</div><div class="a white">1</div><div class="a white">1</div>
	</div>
	<div class="row">
		<div class="a white">1</div><div class="a white">1</div><div class="a white">1</div>
	</div>
</div>
<div style="clear: both;"></div>
<!-- <button type="button" onclick="horizontalTurn(1)">水平1层右转(11)</button>
<button type="button" onclick="horizontalTurn(2)">水平2层右转(12)</button>
<button type="button" onclick="horizontalTurn(3)">水平3层右转(13)</button>
<button type="button" onclick="horizontalTurn(4)">水平1层左转(14)</button>
<button type="button" onclick="horizontalTurn(5)">水平2层左转(15)</button>
<button type="button" onclick="horizontalTurn(6)">水平3层左转(16)</button>
</br>
<button type="button" onclick="verticalTurn(1)">垂直1层下转(21)</button>
<button type="button" onclick="verticalTurn(2)">垂直2层下转(22)</button>
<button type="button" onclick="verticalTurn(3)">垂直3层下转(23)</button>
<button type="button" onclick="verticalTurn(4)">垂直1层上转(24)</button>
<button type="button" onclick="verticalTurn(5)">垂直2层上转(25)</button>
<button type="button" onclick="verticalTurn(6)">垂直3层上转(26)</button>
</br>
<button type="button" onclick="planeTurn(1)">侧1层右转(31)</button>
<button type="button" onclick="planeTurn(2)">侧2层右转(32)</button>
<button type="button" onclick="planeTurn(3)">侧3层右转(33)</button>
<button type="button" onclick="planeTurn(4)">侧1层左转(34)</button>
<button type="button" onclick="planeTurn(5)">侧2层左转(35)</button>
<button type="button" onclick="planeTurn(6)">侧3层左转(36)</button>
</br> -->
<button type="button" onclick="upset()">打乱</button>
<button type="button" onclick="excuteStep()">执行</button>
<div class="run">第一步(黄中心归位)：<span class="step"></span><button type="button" onclick="run(1)">执行</button></div>
<div class="run">第二步(黄周围白4点归位)：<span class="step"></span><button type="button" onclick="run(2)">执行</button></div>
<div class="run">第三步(白十字归位)：<span class="step"></span><button type="button" onclick="run(3)">执行</button></div>
<div class="run">第四步(白面归位)：<span class="step"></span><button type="button" onclick="run(4)">执行</button></div>


<script type="text/javascript">
var arr = [];
var foo = [];
var allStep = [];
//生成arr数组
for (var i = 1; i <= 6 * 9; i++) {
	foo.push(i);
	if (i % 3 == 0) {
		var a = Math.ceil(i / 9);
		arr[a] = arr[a] || [];
		arr[a].push(foo);
		foo = [];
	}
}

function _show() {
	for (var i = 1; i <= 6; i++) {
		for (var j = 0; j < 3; j++) {
			arr[i][j].forEach(function(v, k) {
				var color = getColor(v);
				var index = j * 3 + k + 1;
				display(i, index, v, color);
			})
		}
	}
}
//v 123456  index 123456789
function display(v, index, num, color) {
	index = index - 1;
	var node = $('.c_' + v).find('.a').eq(index);
	node.html(num);
	node.removeClass('white');
	node.removeClass('red');
	node.removeClass('blue');
	node.removeClass('orange');
	node.removeClass('green');
	node.removeClass('yellow');
	node.addClass(color);
}

function getColor(index) {
	if (index <= 9) return 'white';
	if (index > 9 && index <= 18) return 'red';
	if (index > 18 && index <= 27) return 'yellow';
	if (index > 27 && index <= 36) return 'orange';
	if (index > 36 && index <= 45) return 'green';
	if (index > 45 && index <= 54) return 'blue';
}
//水平转
function horizontalTurn(type, noAddStep) {
	var foo = [];
	var n = 0;
	if (type > 0 && type <= 3) {
		n = type - 1;
		foo.push(arr[4][n]);
		foo.push(arr[1][n]);
		foo.push(arr[2][n]);
		foo.push(arr[3][n]);
	}
	if (type > 3 && type <= 6) {
		n = type - 4;
		foo.push(arr[2][n]);
		foo.push(arr[3][n]);
		foo.push(arr[4][n]);
		foo.push(arr[1][n]);
	}
	arr[1][n] = foo[0];
	arr[2][n] = foo[1];
	arr[3][n] = foo[2];
	arr[4][n] = foo[3];

	//转顶或底面
	if (type == 1) {
		turnSurface(5, 0);
	}
	if (type == 3) {
		turnSurface(6, 1);
	}
	if (type == 4) {
		turnSurface(5, 1);
	}
	if (type == 6) {
		turnSurface(6, 0);
	}
	noAddStep || allStep.push('1' + type);
	_show();
}
//垂直转
function verticalTurn(type, noAddStep) {
	allTurn(1);
	if (type == 1) {
		var t = 4;
	}
	if (type == 2) {
		var t = 5;
	}
	if (type == 3) {
		var t = 6;
	}
	if (type == 4) {
		var t = 1;
	}
	if (type == 5) {
		var t = 2;
	}
	if (type == 6) {
		var t = 3;
	}
	horizontalTurn(t, 1);
	allTurn(1);
	allTurn(1);
	allTurn(1);
	noAddStep || allStep.push('2' + type);
	_show();
}
//面转
function planeTurn(type, noAddStep) {
	allTurn(3);
	horizontalTurn(type, 1);
	allTurn(3);
	allTurn(3);
	allTurn(3);
	noAddStep || allStep.push('3' + type);
	_show();
}
//整体转 1234 1水平右 2水平左 3垂直下 4垂直上
function allTurn(type) {
	var foo = [];
	if (type == 1) {
		foo = arr[2];
		arr[2] = arr[5];
		arr[5] = arr[4];
		arr[4] = arr[6];
		arr[6] = foo;
		turnSurface(1, 1);
		turnSurface(2, 1);
		turnSurface(3);
		turnSurface(4, 1);
		turnSurface(5, 1);
		turnSurface(6, 1);
	}
	/*	if(type == 2){
			foo = arr[1];
			arr[1] = arr[2];
			arr[2] = arr[3];
			arr[3] = arr[4];
			arr[4] = foo;
			turnSurface(5,1);
			turnSurface(6);
		}*/
	if (type == 3) {
		foo = arr[1];
		arr[1] = arr[5];
		arr[5] = arr[3];
		arr[3] = arr[6];
		arr[6] = foo;
		turnSurface(3, 1);
		turnSurface(3, 1);
		turnSurface(5, 1);
		turnSurface(5, 1);
		turnSurface(4, 1);
		turnSurface(2);
	}
	/*	if(type == 4){
			foo = arr[1];
			arr[1] = arr[6];
			arr[6] = arr[3];
			arr[3] = arr[5];
			arr[5] = foo;
			turnSurface(3,1);
			turnSurface(3,1);
			turnSurface(6,1);
			turnSurface(6,1);
			turnSurface(4);
			turnSurface(2,1);
		}	*/
	_show();
}
//砖面方法 n为面编号   rotationSense为1 顺时针 只转一个面
function turnSurface(n, rotationSense) {
	var array = [arr[n][0][0], arr[n][0][1], arr[n][0][2], arr[n][1][2], arr[n][2][2], arr[n][2][1], arr[n][2][0], arr[n][1][0]];
	var foo = _turnSurface(array, rotationSense);

	arr[n][0][0] = foo[0];
	arr[n][0][1] = foo[1];
	arr[n][0][2] = foo[2];
	arr[n][1][2] = foo[3];
	arr[n][2][2] = foo[4];
	arr[n][2][1] = foo[5];
	arr[n][2][0] = foo[6];
	arr[n][1][0] = foo[7];
	_show()
}
//type为1顺时针
function _turnSurface(arr, type) {
	arr.push(arr[0], arr[1]);
	arr.unshift(arr[6], arr[7]);
	if (type) return arr.slice(0, 8);
	else return arr.slice(4);
}
//output 123456
function getFaceIndex(val) {
	var num = '';
	arr.forEach(function(v, k) {
		v.forEach(function(v2) {
			v2.forEach(function(v3) {
				if (v3 == val) {
					num = k;
				}
			})
		})
	})
	return num;
}
//步骤执行
function run(step, v) {
	eval('step' + step).run(v);
}

function isWhite(val) {
	if (9 >= val) return 1;
	else return 0;
}
//执行
function excute(array) {
	for (var i = 0; i < 20; i++) {
		var val = array[i].substring(0, 1);
		var num = array[i].substring(1, 2);
		val == 1 && horizontalTurn(num);
		val == 2 && verticalTurn(num);
		val == 3 && planeTurn(num);
	}
}
//打乱
function upset() {
	for (var i = 0; i < 20; i++) {
		var val = Math.round(Math.random() * 2) + 1;
		var num = Math.round(Math.random() * 5 + 1);
		val == 1 && horizontalTurn(num);
		val == 2 && verticalTurn(num);
		val == 3 && planeTurn(num);
		if (!check.run()) {
			console.log('step error' + val + num);
			break;
		}
	}
	console.log(allStep);
}
//后退
function goback() {
	var foo = allStep[allStep.length - 1];
	if (foo.substring(0, 1) == '1') {
		horizontalTurn(_goback(foo.substring(1, 2)), 1);
	}
	if (foo.substring(0, 1) == '2') {
		verticalTurn(_goback(foo.substring(1, 2)), 1);
	}
	if (foo.substring(0, 1) == '3') {
		planeTurn(_goback(foo.substring(1, 2)), 1);
	}
	allStep.pop();
}

function _goback(val) {
	if (val == '1') return '4';
	if (val == '2') return '5';
	if (val == '3') return '6';
	if (val == '4') return '1';
	if (val == '5') return '2';
	if (val == '6') return '3';
}

function excuteStep() {
	run(1);
	run(2);
	run(3);
}
;
! function(a) {
	"use strict";
	a.step1 = {
		//黄中心点
		faceIndex : 0,
		find: function() {
			this.faceIndex = getFaceIndex(23);
		},
		excute: function() {
			switch (+this.faceIndex) {
				case 1:
					horizontalTurn(2);
					horizontalTurn(2);
					break;
				case 2:
					horizontalTurn(2);
					break;
				case 3:
					return false;
					break;
				case 4:
					horizontalTurn(5);
					break;
				case 5:
					verticalTurn(5);
					break;
				case 6:
					verticalTurn(2);
					break;
				default:
					console.log('step1_false_excute');
			}
		},
		run: function() {
			this.find();
			this.excute();
		}
	};

	a.step2 = {
		point : [],
		find: function(v) {
			//包含check功能
			//v代表第二步 的点
			for (var a in arr) {
				if (a == 3) continue;
				for (var b in arr[a]) {
					for (var c in arr[a][b]) {
						//屏蔽角点 和非白点
						if (arr[a][b][c] > 9) continue;
						if(v){
							if((a == 1 || a == 2 || a == 4 ) &&  b !=1) continue;
							if((a == 5 || a == 6) && b ==1) continue;
						}else{
							if((a == 1 || a == 2 || a == 4 ) &&  b ==1) continue;
							if((a == 5 || a == 6) && b !=1) continue;
						}
						if (b == 0 && c == 0) continue;
						if (b == 0 && c == 2) continue;
						if (b == 2 && c == 0) continue;
						if (b == 2 && c == 2) continue;
						if (b == 1 && c == 1) continue;
						this.point = [a, b, c]; return 1;
					}
				}
			}
			return 0;
		},
		excute: function() {
			//直接上
			//this.point 为可直接上的位置 return 0说明有问题
			if(this.point[1] == 0){
				if(this.point[0] == 1){
					horizontalTurn(1);
					horizontalTurn(1);
					return 1;
				}
				if(this.point[0] == 2){
					horizontalTurn(1);
					return 1;
				}
				if(this.point[0] == 4){
					horizontalTurn(4);
					return 1;
				}
			}
			if(this.point[1] == 1){
				if(this.point[0] == 5){
					if(this.point[2] == 0){
						verticalTurn(4);
						return 1;
					}
					if(this.point[2] == 2){
						verticalTurn(6);
						return 1;
					}
				}
				if(this.point[0] == 6){
					if(this.point[2] == 0){
						verticalTurn(1);
						return 1;
					}
					if(this.point[2] == 2){
						verticalTurn(3);
						return 1;
					}
				}
			}
			if(this.point[1] == 2){
				if(this.point[0] == 1){
					horizontalTurn(3);
					horizontalTurn(3);
					return 1;
				}
				if(this.point[0] == 2){
					horizontalTurn(3);
					return 1;
				}
				if(this.point[0] == 4){
					horizontalTurn(6);
					return 1;
				}
			}
			console.log('c_false'+this.point);
		},
		a : function(){
			if(this.c()) this.b();
			else this.excute();
		},
		b: function() {
			//转 白面 被占 就继续转
			planeTurn(1);
			if(this.c()){
				this.b();
			}else{
				this.excute();
				return;
			}
		},
		c: function() {
			//检查是否 位置被占
			var array = this.point.concat();
			if (array[0] == 5 || array[0] == 6) {
				if (array[1] == 1) {
					if (array[2] == 0) array[2] = 2;
					else array[2] = 0;
				}
			}
			if (arr[3][array[1]][array[2]] < 9) return 1;
			else return 0;
		},
		d : function(){
			//递归 正确位置的白点 归位
			if(this.find()) {
				this.a();
				this.d();
			}else{
				return;
			}
		},
		e : function(k){
			//转之前 判断是否 会影响以归位的白块
			if(this.g(this.point[0])){
				//如果影响 先转白面
				planeTurn(1);
				this.e('1');
			} 
			if(k) return;
			//this.point所在的面转 this.point修改
			if(this.point[0] == 1) {
				planeTurn(3);
				this.i();
				return;
			}
			if(this.point[0] == 2) {
				verticalTurn(6);
				this.i();
				return;
			}
			if(this.point[0] == 4) {
				verticalTurn(1);
				this.i();
				return;
			}
			if(this.point[0] == 5) {
				horizontalTurn(4);
				this.i();
				return;
			}
			if(this.point[0] == 6) {
				horizontalTurn(3);
				this.i();
				return;
			}
			console.log('h_false'+this.point[0]);
		},
		h : function(){
			if(this.find(1)){
				//转面
				this.e();
				//转上此点
				this.a();
				this.d();
				this.h();
			}else{
				return;
			}
		},
		i : function(){
			//得到顺时针 转面 之后的点
			if(this.point[1] == 0 && this.point[2] == 1){
				this.point = [this.point[0],1,2];
				return;
			}
			if(this.point[1] == 1 && this.point[2] == 0){
				this.point = [this.point[0],0,1];
				return;
			}
			if(this.point[1] == 1 && this.point[2] == 2){
				this.point = [this.point[0],2,1];
				return;
			}
			if(this.point[1] == 2 && this.point[2] == 1){
				this.point = [this.point[0],1,0];
				return;
			}
		},
		g : function(k){
			//转面 是否影响 已归位 白块 1影响
			if(k == 1) return 0;
			if(k == 2){
				if(arr[3][1][0] <= 9) return 1;
				else return 0;
			}
			if(k == 4){
				if(arr[3][1][2] <= 9) return 1;
				else return 0;
			}
			if(k == 5){
				if(arr[3][0][1] <= 9) return 1;
				else return 0;
			}
			if(k == 6){
				if(arr[3][2][1] <= 9) return 1;
				else return 0;
			}
			console.log('l_false'+k);
		},
		run : function(){
			this.d();
			this.h();
		}
	};

	a.step3 = {
		arrFour : [0,0,0,0],
		a : function(){
			//循环 没有转过的白色
			for(var key in this.arrFour){
				if(this.arrFour[key] == 1) continue;
				if(key == 0){
					if(this.b(arr[5][1][1],arr[5][2][1])) {
						this.excute(key);
						continue;
					}
					else continue;
				}
				if(key == 1){
					if(this.b(arr[2][1][0],arr[2][1][1])) {
						this.excute(key);
						continue;
					}
					else continue;
				}
				if(key == 2){
					if(this.b(arr[6][0][1],arr[6][1][1])) {
						this.excute(key);
						continue;
					}
					else continue;
				}
				if(key == 3){
					if(this.b(arr[4][1][1],arr[4][1][2])) {
						this.excute(key);
						continue;
					}
					else continue;
				}
				console.log('step3_a_false');
			}
		},//检查并转 并改数组
		b : function(a,b){
			return Math.floor(a/9) == Math.floor(b/9) ? 1 : 0;
		},
		c:function(){
			if(this.check()){
				return;
			}else{
				planeTurn(3);
				var foo = this.arrFour[3];
				this.arrFour[3] = this.arrFour[2];
				this.arrFour[2] = this.arrFour[1];
				this.arrFour[1] = this.arrFour[0];
				this.arrFour[0] = foo;
				this.a();
				this.c();
			}
		},
		excute : function(a){
			//转 并改b
			if(a == 0){
				horizontalTurn(1);
				horizontalTurn(1);
				this.arrFour[a] = 1;
				return;
			}
			if(a == 1){
				verticalTurn(3);
				verticalTurn(3);
				this.arrFour[a] = 1;
				return;
			}
			if(a == 2){
				horizontalTurn(3);
				horizontalTurn(3);
				this.arrFour[a] = 1;
				return;
			}
			if(a == 3){
				verticalTurn(1);
				verticalTurn(1);
				this.arrFour[a] = 1;
				return;
			}
			console.log('step3_d_false'+a);
		},
		check : function(){
			for (var i in this.arrFour) {
				if(!this.arrFour[i]) return 0;
			}
			return 1;
		},
		run:function(){
			allTurn(3);
			allTurn(3);
			this.a();
			this.c();
			allTurn(3);
		}
	};

	a.step4 = {
		isLeft : 0,
		point : [],
		find:function(v){
			if(this.point.length) return 1;
			var layerIndex = v ? 0 : 2;
			for (var i = 0; i < 4; i++) {
				if(arr[i+1][layerIndex][2] <= 9){
					var point = [i+1,layerIndex,2];
					//如果是第二步 查找第一层白 point为白块 第一步point为 白块相邻面的 块
					this.point = !v ? this.a(point[0],point[1],point[2]).split(',') : point;
					this.isLeft = !v ? 1 : 0;
					return 1;
				}
				if(arr[i+1][layerIndex][0] <= 9){
					var point = [i+1,layerIndex,0];
					this.point = !v ? this.a(point[0],point[1],point[2]).split(',') : point;
					this.isLeft = !v ? 0 : 1;
					return 1;
				}
			}
			return 0;
		},
		a : function(k1,k2,k3,v){
			//返回 白块相邻面的 块
			var foo = [];
			var layerIndex = v ? 0 : 2;
			foo['4,'+ layerIndex +',0'] = '3,'+ layerIndex +',2';
			foo['4,'+ layerIndex +',2'] = '1,'+ layerIndex +',0';
			foo['1,'+ layerIndex +',0'] = '4,'+ layerIndex +',2';
			foo['1,'+ layerIndex +',2'] = '2,'+ layerIndex +',0';
			foo['2,'+ layerIndex +',0'] = '1,'+ layerIndex +',2';
			foo['2,'+ layerIndex +',2'] = '3,'+ layerIndex +',0';
			foo['3,'+ layerIndex +',0'] = '2,'+ layerIndex +',2';
			foo['3,'+ layerIndex +',2'] = '4,'+ layerIndex +',0';
			return foo[k1+','+k2+','+k3];
		}, 
		find1:function(){
			if(getColor(arr[6][0][0]) == 'white' || getColor(arr[6][0][2]) == 'white' || getColor(arr[6][2][0]) == 'white' || getColor(arr[6][2][2]) == 'white'){
				this.e();
				return 1;
			}else{
				return 0;
			}
		},
		e:function(){
			if(getColor(arr[6][0][0]) == 'white'){
				return;
			}
			if(getColor(arr[6][0][2]) == 'white'){
				horizontalTurn(6);
				return;
			}
			if(getColor(arr[6][2][0]) == 'white'){
				horizontalTurn(3);
				return;
			}
			if(getColor(arr[6][2][2]) == 'white'){
				horizontalTurn(3);
				horizontalTurn(3);
				return;
			}
		},
		excute :function(){
			console.log('excute');
			this.b();
			this.c();
			if(this.isLeft){
				verticalTurn(1);
				horizontalTurn(3);
				verticalTurn(4);
			}else{
				verticalTurn(3);
				horizontalTurn(6);
				verticalTurn(6);
			}
			this.point = [];
		},
		b : function(){
			var a = arr[this.point[0]][this.point[1]][this.point[2]];
			var b = arr[this.point[0]][1][1];
			if(getColor(a) != getColor(b)) {
				horizontalTurn(3);
				this.point[0] = this.point[0] > 3 ? 1 : +this.point[0]+1;
				this.b();
			}
		},
		c : function(){
			switch (+this.point[0]) {
				case 1:
					break;
				case 2:
					this.d();
					this.d();
					this.d();
					break;
				case 3:
					this.d();
					this.d();
					break;
				case 4:
					this.d();
					break;
				default:
					console.log('step4_false_c'+this.point);
			}
		},
		d:function(){
			horizontalTurn(1);
			horizontalTurn(2);
			horizontalTurn(3);
		},
		excute1 :function(){
			this.c();
			if(this.isLeft){
				verticalTurn(1);
				horizontalTurn(6);
				verticalTurn(4);
				this.point = [4,2,2];
				this.isLeft = 0;
			}else{
				verticalTurn(3);
				horizontalTurn(3);
				verticalTurn(6);
				this.point = [2,2,0];
				this.isLeft = 1;
			}
		},
		excute2: function(){
			//arr[6][0][0] 为白点
			if (getColor(arr[5][2][0]) == 'white' && getColor(arr[1][0][0]) == getColor(arr[1][0][1])) {
				this.f();
				this.excute2();
			} else {
				verticalTurn(1);
				horizontalTurn(6);
				verticalTurn(4);
				var foo = [2, 2, 2];
				this.point = this.a(foo[0], foo[1], foo[2]).split(',');
				this.isLeft = 1;
				return;
			}
		},
		f : function(){
			horizontalTurn(1);
			horizontalTurn(2);
		},
		run1:function(){
			if(this.find()){
				this.excute();
				this.run1();
			}else{
				return;
			}
		},
		run2:function(){
			if (this.find(1)) {
				this.excute1();
				this.excute();
				this.run2();
			} else {
				return;
			}
		},
		run3:function(){
			if (this.find1()) {
				this.excute2();
				this.excute();
				this.run3();
			} else {
				return;
			}
		},
		run: function() {
			this.run1();
			this.run2();
			this.run3();
		}
	};



	a.check = {
		a: function() {
			//检查中心点
			if (this.g(arr[1][1][1], arr[3][1][1]) && this.g(arr[2][1][1], arr[4][1][1]) && this.g(arr[5][1][1], arr[6][1][1])) return 1;
			else return 0;
		},
		b: function() {
			//检查边点
			//得到白边点
			var array = this.i(),arrColor = [];
			for(var key in array){
				var point = this.h(array[key][0],array[key][1],array[key][2]);
				var color = getColor(arr[point[0]][point[1]][point[2]]);
				if(color == 'white') return 0;
				arrColor.push(color);
			}
			return this.j(arrColor);

		},
		c: function(color) {
			//对面 颜色
			if (color == 'white') return 'yellow';
			if (color == 'yellow') return 'white';
			if (color == 'red') return 'orange';
			if (color == 'orange') return 'red';
			if (color == 'green') return 'blue';
			if (color == 'blue') return 'green';
			console.log('check_c_false' + color);
		},
		f: function(point) {
			//console.log(point);
			return this.c(getColor(point));
		},
		g: function(k1, k2) {
			if (getColor(k1) == this.c(getColor(k2))) return 1;
			else return 0;
		},
		h: function(v1, v2, v3) {
			var array = [];
			var key = v1 + ',' + v2 + ',' + v3;
			array['1,0,1'] = [5, 2, 1];
			array['1,1,0'] = [4, 1, 2];
			array['1,1,2'] = [2, 1, 0];
			array['1,2,1'] = [6, 0, 1];

			array['3,0,1'] = [5, 0, 1];
			array['3,1,0'] = [2, 1, 2];
			array['3,1,2'] = [4, 1, 0];
			array['3,2,1'] = [6, 2, 1];

			array['4,0,1'] = [5, 1, 0];
			array['4,2,1'] = [6, 1, 0];
			array['2,0,1'] = [5, 1, 2];
			array['2,2,1'] = [6, 1, 2];

			if (array[key]) {
				return array[key];
			} else {
				for (var key in array) {
					if (array[key][0] == v1 && array[key][1] == v2 && array[key][2] == v3) {
						return key.split(',');
					}
				}
				console.log('check_h_false');
			}
		},
		i: function() {
			var array = [];
			for (var a in arr) {
				for (var b in arr[a]) {
					for (var c in arr[a][b]) {
						//屏蔽角点 和非白点
						if (arr[a][b][c] > 9) continue;
						/*if (v) {
							if ((a == 1 || a == 2 || a == 4) && b != 1) continue;
							if ((a == 5 || a == 6) && b == 1) continue;
						} else {
							if ((a == 1 || a == 2 || a == 4) && b == 1) continue;
							if ((a == 5 || a == 6) && b != 1) continue;
						}*/
						if (b == 0 && c == 0) continue;
						if (b == 0 && c == 2) continue;
						if (b == 2 && c == 0) continue;
						if (b == 2 && c == 2) continue;
						if (b == 1 && c == 1) continue;
						array.push([a, b, c]);
					}
				}
			}
			return array;
		},
		j: function(array) {
			//检查数组 中有没有重复值
			var array = array.sort();
			for (var i = 0; i < array.length; i++) {
				if (array[i] == array[i + 1]) {
					return 0;
				}
				return 1;
			}
		},
		run: function() {
			if (this.a() && this.b()) return 1;
			else return 0;
		}
	}
}(window);

 
/*;!function(a){
	"use strict";
	var b = [0,0,0,0];
	a.step3 = {
		a : function(){
			 
		}, 
		b : function( ){
			 
		},
		c : function(){
			
		},
		check : function(){
			
		},
		run:function(){
		}
	};
}(window);*/
/*!function(a){
	var x = [1,2];
	a.a = {
		b : function(){
			var y = x;
			y[1] = '555';
		}
	}
}(window)
a.b();*/
$(function(){
	_show();
})

</script>
</body>
</html>
